import iRobotCreate
import numpy as np
import time

r = iRobotCreate.iRobotCreate(1)
dist = 0.2
r.trajectory()

x = 5
y = 2



d=10000
r.forward(0.1)
print d
while dist<d:
    [rx,ry,rt] = r.get_pose()
    xt = x-rx
    yt = y-ry
    d = ((xt)**2+(yt)**2)**0.5
    theta = np.arctan2(yt,xt)
    xt = d*np.cos(theta - rt*3.1415/180)
    yt = d*np.sin(theta - rt*3.1415/180)
    r.goToGoal(xt,yt,[[-5],[0]])
    r.distance_sensor()
    r.angle_sensor()
    d = ((rx-x)**2+(ry-y)**2)**0.5
    print xt,yt,rx,ry,rt,d

r.sim()

    
